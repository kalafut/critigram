(function(n,t){t["true"]=n;var e,u,i,r,l,o,a,c,s,f,g,v,b;google.load("visualization","1",{packages:["corechart"]});g=RegExp(/^\d+/gm);o=null;a=null;r=[{title:"0-100, by 10",range:100,interval:10},{title:"0-100, by 5",range:100,interval:5},{title:"0-10",buckets:[0,1,2,3,4,5,6,7,8,9,10]},{title:"0-5",buckets:[0,1,2,3,4,5]},{title:"0/25/50/100",buckets:[0,25,50,75,100]},{title:"0/20/40/60/80/100",buckets:[0,20,40,60,80,100]}];e=r[0];f=function(n){return _.each(n,function(n){var t,e,u,i,r,l;if(n.buckets!=null){n.continuous=_.last(n.buckets)-_.first(n.buckets)===n.buckets.length-1}if(n.buckets&&!n.continuous){n.inv_buckets=[];r=n.buckets;l=[];for(t=u=0,i=r.length;u<i;t=++u){e=r[t];l.push(n.inv_buckets[e]=t)}return l}})};s=function(n,t){var e,u,i,r,l,o;i=$("#"+n);o=[];for(u=r=0,l=t.length;r<l;u=++r){e=t[u];o.push(i.append('</option><option value="'+u+'">'+e.title+"</option>"))}return o};c=function(n){var t,e;e=n.match(g);if(e!=null){return t=_.map(e,function(n){return parseInt(n)})}else{return t=[]}};u=function(n){var t,e;t=document.getElementById("data").value;if(!n&&t===o&&a===window.innerWidth){return}o=t;a=window.innerWidth;e=c(t);return l(e)};v=function(n,t){var e,u,i,r,l,o;if(t.range!=null){r=t.range;e=t.interval;i=r/e;u=function(){var n,t;t=[];for(o=n=e;e>0?n<=r:n>=r;o=n+=e){t.push(""+(o-(o>e?e-1:e))+"-"+o)}return t}()}else{i=t.buckets.length;u=function(){var n,e,u,i;u=t.buckets;i=[];for(n=0,e=u.length;n<e;n++){o=u[n];i.push(""+o)}return i}()}l=Array.apply(null,new Array(i)).map(Number.prototype.valueOf,0);_.each(n,function(n){var u;if(b(n,t)){if(r!=null){u=n>0?Math.floor((n-1)/e):0}else{if(t.continuous){u=n}else{u=t.inv_buckets[n]}}return l[u]+=1}});return _.zip(u,l)};b=function(n,t){return t.range!=null&&(0<=n&&n<=t.range)||t.buckets!=null&&t.continuous&&(0<=n&&n<=_.last(t.buckets))||t.buckets!=null&&!t.continuous};l=function(n){var t,u,i,r;i=v(n,e);i.unshift(["Ranking","Count"]);u=google.visualization.arrayToDataTable(i);r={hAxis:{title:"Rating"},vAxis:{title:"Number of ratings"},legend:{position:"none"},colors:["#DC8F11"]};t=new google.visualization.ColumnChart(document.getElementById("graph"));return t.draw(u,r)};i=function(){var n;n=document.getElementById("config_list");e=r[n.selectedIndex-1];return u(true)};f(r);s("config_list",r);$("#config_list").change(i);if(typeof QUnit==="undefined"||QUnit===null){setInterval(u,1e3)}})({},function(){return this}());